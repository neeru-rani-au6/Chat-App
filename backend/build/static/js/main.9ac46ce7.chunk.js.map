{"version":3,"sources":["assets/images/user.jpg","redux/action/user.js","redux/type.js","components/login.js","components/register.js","components/forgotPassword.js","redux/action/group.js","components/header.js","redux/action/request.js","page/home.js","page/profile.js","components/resetpassword.js","page/friend.js","redux/action/chat.js","page/group.js","page/userdetail.js","app.js","redux/reducer/user.js","redux/reducer/request.js","redux/reducer/group.js","redux/reducer/chat.js","redux/store.js","index.js","assets/images/ouricon.jpg"],"names":["module","exports","registerUser","user","dispatch","a","formData","FormData","append","firstName","lastName","email","password","photoURL","name","axios","method","url","data","headers","type","payload","error","info","response","message","updateUser","console","log","defaults","withCredentials","token","userId","loginUser","isAuthenticated","allUser","users","forgotPassword","useremail","changePassword","resetToken","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","background","padding","boxShadow","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","SignIn","classes","useSelector","state","userState","history","useHistory","useDispatch","useState","isSubmitting","setState","handleChange","key","value","handleSubmit","e","preventDefault","push","Container","component","maxWidth","CssBaseline","className","Typography","variant","src","Ouricon","alt","style","onSubmit","noValidate","TextField","required","fullWidth","id","label","autoComplete","autoFocus","onChange","target","Grid","item","xs","float","Link","href","Button","color","disabled","container","justify","input","marginBottom","Register","firstNameError","lastNameError","emailError","passwordError","newState","match","trim","length","sm","helperText","accept","files","htmlFor","Tooltip","title","IconButton","aria-label","connect","props","reset","Avatar","createGroup","group","groupName","findGroups","searchUser","searchQuery","root","height","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","enteringScreen","flexShrink","whiteSpace","drawerOpen","drawerClose","overflowX","breakpoints","up","toolbar","justifyContent","mixins","content","flexGrow","menuLogo","textTransform","borderRadius","fontSize","search","position","shape","fade","common","white","searchIcon","pointerEvents","inputRoot","inputInput","paddingLeft","rootclick","dropdown","right","left","border","borderBottomLeftRadius","borderBottomRightRadius","isAuth","groupReducer","logout","useTheme","React","open","setOpen","openClick","setopenClick","anchorEl","setAnchorEl","searchQueryResult","handleClose","logoutUser","useEffect","handleSubmitSearch","prev","userDetailPage","AppBar","clsx","Toolbar","noWrap","to","textDecoration","cursor","InputBase","placeholder","inputProps","ClickAwayListener","onClickAway","direction","map","_id","onClick","Card","CardHeader","userimage","aria-controls","aria-haspopup","event","currentTarget","Menu","keepMounted","Boolean","onClose","MenuItem","Drawer","Divider","List","ListItem","button","ListItemIcon","minWidth","sendRequest","request","Home","snackbarOpen","snackbarMessage","snackbarSeverity","receiver","sender","acceptGroupRequest","groupId","updatetRequest","isAccepted","allRequest","Accept","friend","Reject","isReject","showSnackbar","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","severity","this","md","CardMedia","image","CardActions","fontWeight","Paper","textAlign","requests","size","CircularProgress","Component","requestReducer","update","backdrop","removeImage","URL","createObjectURL","Backdrop","params","Friends","friends","selectFriend","messages","loading","openemoji","chosenEmoji","messageRef","createRef","socket","sendMessage","socketId","emit","renderCards","chats","chat","handleFrndChat","unread","singleChat","singleMessages","scrollToBottom","onChangeHandler","file","fileName","handleClickEmoji","handleClickAwayEmoji","onEmojiClick","emojiObject","emoji","current","scrollIntoView","allFriends","io","on","action","subheader","Date","updatedAt","toLocaleTimeString","toLocaleDateString","Fab","marginRight","ref","indexOf","controls","autoPlay","rel","Portal","chatReducer","friendId","root1","top","transform","allMessage","useRef","setOpenEmoji","openSearchDialog","setopenSearchDialog","selectedGroup","setLoading","setMessages","handleCloseSearch","sendGroupRequest","setTimeout","concat","openChatting","groups","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogContentText","DialogActions","createdAt","member","owner","phtoURL","typetype","Details","singleUser","oneuser","fr","App","path","exact","Login","Profile","resetPassword","Groups","initalstate","localStorage","getItem","JSON","parse","userReducer","Object","assign","setItem","stringify","removeItem","newState1","initialState","ChatReducer","rootReducer","combineReducers","store","createStore","applyMiddleware","thunk","ReactDom","render","document","getElementById"],"mappings":"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","file":"static/js/main.9ac46ce7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/user.afe9779a.jpg\";","import { LOGIN, LOGOUT, REGISTER, UPDATEUSER, ALLUSER, FORGOTPASSWORD, CHANGEPASSWORD, SINGLEUSER } from '../type';\r\nimport axios from 'axios';\r\n\r\nexport const registerUser = (user) => async dispatch => {\r\n    //console.log(user)\r\n    try {\r\n        const formData = new FormData();\r\n        formData.append(\"firstName\", user.firstName);\r\n        formData.append(\"lastName\", user.lastName);\r\n        formData.append(\"email\", user.email);\r\n        formData.append(\"password\", user.password);\r\n        if (user.photoURL) {\r\n            formData.append(\"photoURL\", user.photoURL, user.photoURL.name);\r\n        }\r\n\r\n        const { data } = await axios({\r\n            method: \"post\",\r\n            url: '/users/register',\r\n            data: formData,\r\n            headers: {\r\n                'content-type': 'multipart/form-data',\r\n                \"Accept\": \"application/json\",\r\n                \"type\": \"formData\"\r\n            }\r\n        }\r\n        );\r\n        //console.log(data, \"1234\")\r\n        dispatch({\r\n            type: REGISTER,\r\n            payload: {\r\n                error: null,\r\n                info: data\r\n            }\r\n        })\r\n\r\n    } catch (error) {\r\n        //console.log('adsfasdf', error.response)\r\n        dispatch({\r\n            type: REGISTER,\r\n            payload: {\r\n                error: error.response.data.message,\r\n                info: null\r\n            }\r\n        })\r\n\r\n\r\n    }\r\n}\r\n\r\nexport const updateUser = (user) => async dispatch => {\r\n    console.log(user)\r\n    try {\r\n        axios.defaults.withCredentials = true;\r\n        const formData = new FormData();\r\n        formData.append(\"firstName\", user.firstName);\r\n        formData.append(\"lastName\", user.lastName);\r\n        formData.append(\"email\", user.email);\r\n        formData.append(\"password\", user.password);\r\n        formData.append(\"token\", user.token)\r\n        if (user.photoURL) {\r\n            formData.append(\"photoURL\", user.photoURL, user.photoURL.name);\r\n        }\r\n\r\n        const { data } = await axios({\r\n            method: 'Put',\r\n            url: `/users/${user.userId}`,\r\n            data: formData,\r\n            headers: {\r\n                'content-type': 'multipart/form-data'\r\n\r\n            }\r\n        }\r\n        );\r\n        console.log(data, \"1234\")\r\n        dispatch({\r\n            type: UPDATEUSER,\r\n            payload: {\r\n                error: null,\r\n                info: data,\r\n                photoURL: data.photoURL,\r\n                firstName: data.firstName,\r\n                lastName: data.lastName\r\n            }\r\n        })\r\n\r\n    } catch (error) {\r\n        console.log('adsfasdf', error.response)\r\n        dispatch({\r\n            type: UPDATEUSER,\r\n            payload: {\r\n                error: error.response ? error.response.data.message : \"update error\",\r\n                info: null\r\n            }\r\n        })\r\n\r\n\r\n    }\r\n}\r\nexport const loginUser = (user) => async dispatch => {\r\n    try {\r\n        const { data } = await axios({\r\n            method: \"post\",\r\n            url: `/users/login`,\r\n            data: {\r\n                email: user.email,\r\n                password: user.password\r\n            }\r\n        });\r\n        //console.log(data, \"dfhkgj \")\r\n        dispatch({\r\n            type: LOGIN,\r\n            payload: { error: null, user: data, isAuthenticated: true }\r\n        })\r\n    } catch (error) {\r\n        console.log(error.response.data)\r\n        dispatch({\r\n            type: LOGIN,\r\n            payload: {\r\n                error: error.response.data.error,\r\n                info: null,\r\n                isAuthenticated: false,\r\n                user: null\r\n            }\r\n        })\r\n\r\n    }\r\n}\r\n\r\nexport const logout = () => async dispatch => {\r\n    try {\r\n        await axios({\r\n            method: \"delete\",\r\n            url: `/users/logout`\r\n        });\r\n        dispatch({\r\n            type: LOGOUT,\r\n            payload: null\r\n        })\r\n    } catch (error) {\r\n        console.log(error)\r\n\r\n    }\r\n}\r\n\r\nexport const allUser = () => async dispatch => {\r\n    try {\r\n        axios.defaults.withCredentials = true;\r\n        const { data } = await axios(`/users/alluser`)\r\n        dispatch({\r\n            type: ALLUSER,\r\n            payload: { users: data }\r\n        })\r\n        //console.log(data)\r\n    } catch (error) {\r\n        console.log(error)\r\n\r\n    }\r\n}\r\n\r\nexport const forgotPassword = (user) => async dispatch => {\r\n    //console.log('user',user)\r\n    try {\r\n        const { data } = await axios({\r\n            method: \"post\",\r\n            url: `/users/forgotpassword`,\r\n            data: {\r\n                email: user.email\r\n            }\r\n        });\r\n        //console.log(\"data\",data)\r\n        dispatch({\r\n            type: FORGOTPASSWORD,\r\n            payload: { useremail: user.email, info: data.message }\r\n        })\r\n\r\n    } catch (error) {\r\n        console.log('errtyu', error.response.data)\r\n        dispatch({\r\n            type: FORGOTPASSWORD,\r\n            payload: {\r\n                error: error.response.data.error,\r\n                info: null\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport const changePassword = (user) => async dispatch => {\r\n    console.log(\"user\", user)\r\n    try {\r\n        const { data } = await axios({\r\n            method: \"post\",\r\n            url: `/users/Changepassword`,\r\n            data: {\r\n                resetToken: user.resetToken,\r\n                password: user.password,\r\n                email: user.email\r\n            }\r\n        });\r\n        console.log(\"data\", data)\r\n        dispatch({\r\n            type: CHANGEPASSWORD,\r\n            payload: { user: data, error: null }\r\n        })\r\n\r\n    } catch (error) {\r\n        console.log(error.response.data)\r\n        dispatch({\r\n            type: CHANGEPASSWORD,\r\n            payload: {\r\n                error: error.response.data.error,\r\n                info: null\r\n            }\r\n        })\r\n\r\n    }\r\n}\r\n\r\nexport const singleUser = (id) => async dispatch => {\r\n    try {\r\n        axios.defaults.withCredentials = true;\r\n        const { data } = await axios(`/users/${id}`)\r\n        dispatch({\r\n            type: SINGLEUSER,\r\n            payload: { oneuser: data }\r\n        });\r\n        //console.log(data);\r\n    } catch (error) {\r\n        console.log(error)\r\n\r\n    }\r\n}","export const LOGIN = \"LOGIN\";\r\nexport const REGISTER = \"REGISTER\";\r\nexport const LOGOUT = 'LOGOUT';\r\nexport const ALLUSER = 'ALLUSER';\r\nexport const FORGOTPASSWORD = \"FORGOTPASSWORD\";\r\nexport const CHANGEPASSWORD = \"CHANGEPASSWORD\";\r\nexport const REQUEST = \"REQUEST\";\r\nexport const ALLREQUEST = \"ALLREQUEST\";\r\nexport const UPDATEREQUEST = \"UPDATEREQUEST\";\r\nexport const FRIENDS = \"FRIENDS\";\r\nexport const CREATEGROUP = \"CREATEGROUP\";\r\nexport const FINDGROUP = \"FINDGROUP\";\r\nexport const SEARCHUSER = \"SEARCHUSER\";\r\nexport const ALLMESSAGE = \"ALLMESSAGE\";\r\nexport const SINGLECHAT = 'SINGLECHAT';\r\nexport const UPDATEUSER = 'UPDATEUSER';\r\nexport const SINGLEUSER = \"SINGLEUSER\";","import React, { useState } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { loginUser } from '../redux/action/user';\r\nimport Ouricon from '../assets/images/ouricon.jpg';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    background: '#fff',\r\n    padding: theme.spacing(3),\r\n    boxShadow: '0px 3px 3px -2px rgba(0,0,0,0.2), 0px 3px 4px 0px rgba(0,0,0,0.14), 0px 1px 8px 0px rgba(0,0,0,0.12)'\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function SignIn() {\r\n  const classes = useStyles();\r\n  const user = useSelector(state => state.userState);\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const [state, setState] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    isSubmitting: false\r\n  });\r\n  const handleChange = (key, value) => {\r\n    setState({\r\n      ...state,\r\n      [key]: value\r\n    });\r\n  }\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setState({ ...state, isSubmitting: true });\r\n    await dispatch(loginUser(state));\r\n    setState({ ...state, isSubmitting: false });\r\n    //console.log(user.error);\r\n    if (!user.error) {\r\n      history.push('/');\r\n    }\r\n  }\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          <img src={Ouricon} alt=\"user\" style={{ width: \"100%\" }} />\r\n        </Typography>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign in\r\n        </Typography>\r\n        <form onSubmit={handleSubmit} className={classes.form} noValidate>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"Email Address\"\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n            autoFocus\r\n            value={state.email}\r\n            onChange={(e) => handleChange(\"email\", e.target.value)}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            autoComplete=\"current-password\"\r\n            value={state.password}\r\n            onChange={(e) => handleChange(\"password\", e.target.value)}\r\n          />\r\n          <Grid item xs style={{ float: \"right\" }}>\r\n            <Link href=\"/#/forgotPassword\" variant=\"body2\">\r\n              Forgot password?\r\n              </Link>\r\n          </Grid>\r\n          {user.error &&\r\n            <Grid item xs={12} className=\"error\">\r\n              <div className=\"error\">{user.error}</div>\r\n            </Grid>\r\n          }\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            disabled={state.isSubmitting}\r\n          >\r\n            Sign In\r\n          </Button>\r\n          <Grid container justify=\"center\" className=\"mt-2\">\r\n            <Grid item >\r\n              Don't have an account?\r\n              <Link href=\"/#/register\" variant=\"body2\" className=\"mt-2\">\r\n                {\"Sign Up\"}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n}","import React, { useState } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { registerUser } from '../redux/action/user';\r\n import IconButton from '@material-ui/core/IconButton';\r\n import PhotoCamera from '@material-ui/icons/PhotoCamera';\r\n import Tooltip from '@material-ui/core/Tooltip';\r\nimport Ouricon from '../assets/images/ouricon.jpg';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(2),\r\n    background: '#fff',\r\n    boxShadow: '0px 3px 3px -2px rgba(0,0,0,0.2), 0px 3px 4px 0px rgba(0,0,0,0.14), 0px 1px 8px 0px rgba(0,0,0,0.12)'\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  input: {\r\n    marginBottom: \"20px\"\r\n  },\r\n}));\r\n\r\nexport default function Register() {\r\n  const classes = useStyles();\r\n  const user = useSelector(state => state.userState);\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const [state, setState] = useState({\r\n    firstName: \"\",\r\n    firstNameError: \"\",\r\n    lastName: \"\",\r\n    lastNameError: \"\",\r\n    email: \"\",\r\n    emailError: \"\",\r\n    password: \"\",\r\n    passwordError: \"\",\r\n    isSubmitting: false\r\n  });\r\n  const handleChange = (key, value) => {\r\n    const newState = { ...state };\r\n    newState[key] = value;\r\n    if (key === 'firstName') {\r\n      newState.firstNameError = \"\";\r\n      if (!newState.firstName.match(/^[a-z ,.'-]{3,150}$/i)) {\r\n        newState.firstNameError = \"firstName is not valid\"\r\n      }\r\n      if (newState.firstName.trim() === \"\") {\r\n        newState.firstNameError = \"First name is required\"\r\n      }\r\n    }\r\n    if (key === 'lastName') {\r\n      newState.lastNameError = \"\";\r\n      if (!newState.lastName.match(/^[a-z ,.'-]{3,150}$/i)) {\r\n        newState.lastNameError = \"lastName is not valid\"\r\n      }\r\n      if (newState.lastName.trim() === \"\") {\r\n        newState.lastNameError = \"Last name is required\"\r\n      }\r\n    }\r\n    if (key === 'email') {\r\n      newState.emailError = \"\";\r\n      if (!newState.email.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i)) {\r\n        newState.emailError = \"invalid email \"\r\n      }\r\n      if (newState.email.trim() === \"\") {\r\n        newState.emailError = \"email is required\"\r\n      }\r\n    }\r\n    if (key === \"password\") {\r\n      newState.passwordError = \"\";\r\n      if (newState.password.length < 5) {\r\n        newState.passwordError = \"Can not be less than 5\"\r\n      }\r\n      if (newState.password.trim() === \"\") {\r\n        newState.passwordError = \"password is required\"\r\n      }\r\n    }\r\n    setState(newState);\r\n  }\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const newState = { ...state };\r\n    if (newState.firstName.trim() === \"\" || newState.firstNameError) {\r\n      newState.firstNameError = newState.firstNameError || \"first name is required\"\r\n      setState(newState)\r\n      return\r\n    }\r\n    if (newState.lastName.trim() === \"\" || newState.lastNameError) {\r\n      newState.lastNameError = newState.lastNameError || \"last name is required\"\r\n      setState(newState);\r\n      return\r\n    }\r\n    if (newState.email.trim() === \"\" || newState.emailError) {\r\n      newState.emailError = newState.emailError || \"email is required\"\r\n      setState(newState);\r\n      return\r\n    }\r\n    if (newState.password.trim() === \"\" || newState.passwordError) {\r\n      newState.passwordError = newState.passwordError || \"password is required\"\r\n      setState(newState);\r\n      return\r\n    }\r\n\r\n    newState.isSubmitting = true;\r\n    setState(newState);\r\n    await dispatch(registerUser(state));\r\n    newState.isSubmitting = true;\r\n    setState(newState);\r\n    if (!user.error) {\r\n      history.push('/login');\r\n    }\r\n  }\r\n  // useEffect(() => {\r\n  //   console.log(user);\r\n  // }, [user]);\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          <img src={Ouricon} alt=\"user\" style={{ width: \"100%\" }} />\r\n        </Typography>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign up\r\n        </Typography>\r\n        <form onSubmit={handleSubmit} className={classes.form} noValidate>\r\n           <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                autoComplete=\"fname\"\r\n                name=\"firstName\"\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"firstName\"\r\n                label=\"First Name\"\r\n                value={state.firstName}\r\n                onChange={(e) => handleChange(\"firstName\", e.target.value)}\r\n                error={!!state.firstNameError}\r\n                helperText={state.firstNameError}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"lastName\"\r\n                label=\"Last Name\"\r\n                name=\"lastName\"\r\n                autoComplete=\"lname\"\r\n                value={state.lastName}\r\n                onChange={(e) => handleChange(\"lastName\", e.target.value)}\r\n                error={!!state.lastNameError}\r\n                helperText={state.lastNameError}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n                value={state.email}\r\n                onChange={(e) => handleChange(\"email\", e.target.value)}\r\n                error={!!state.emailError}\r\n                helperText={state.emailError}\r\n\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                autoComplete=\"current-password\"\r\n                value={state.password}\r\n                onChange={(e) => handleChange(\"password\", e.target.value)}\r\n                error={!!state.passwordError}\r\n                helperText={state.passwordError}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n            <TextField accept=\"image/*\"\r\n                id=\"icon-button-file\"\r\n                type=\"file\"\r\n                className={classes.input}\r\n                onChange={(e) => handleChange(\"photoURL\", e.target.files[0])} />\r\n              <label htmlFor=\"icon-button-file\">\r\n                <Tooltip title=\"Upload Photo\">\r\n                  <IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\">\r\n                    <PhotoCamera />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              </label>\r\n              </Grid> \r\n            {user.error &&\r\n              <Grid item xs={12}>\r\n                <div className=\"error\">{user.error}</div>\r\n              </Grid>\r\n            }\r\n          </Grid>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            disabled={state.isSubmitting}\r\n          >\r\n            Sign Up\r\n          </Button>\r\n          <Grid container justify=\"center\" className=\"mt-2\">\r\n            <Grid item>\r\n              Already have an account?\r\n              <Link href=\"/#/login\" variant=\"body2\">\r\n                Sign in\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n}","import React, { useState } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { forgotPassword } from '../redux/action/user';\r\nimport { connect } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n        marginTop: theme.spacing(8),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        background: '#fff',\r\n        padding: theme.spacing(3),\r\n        boxShadow: '0px 3px 3px -2px rgba(0,0,0,0.2), 0px 3px 4px 0px rgba(0,0,0,0.14), 0px 1px 8px 0px rgba(0,0,0,0.12)'\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%',\r\n        marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n}));\r\n\r\n\r\n\r\nconst SignIn = (props) => {\r\n    const classes = useStyles();\r\n    //const user = useSelector(state => state.userState);\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n\r\n    const [state, setState] = useState({\r\n        email: \"\",\r\n        isSubmitting: false\r\n    });\r\n    const handleChange = (key, value) => {\r\n        setState({\r\n            ...state,\r\n            [key]: value\r\n        });\r\n    }\r\n\r\n    const reset = async (e) => {\r\n        console.log('state',state)\r\n        e.preventDefault();\r\n        setState({ ...state, isSubmitting: true });\r\n        await dispatch(forgotPassword(state));\r\n        setState({ ...state, isSubmitting: false });\r\n        console.log(props.useremail.error)\r\n        if (!props.useremail.error) {\r\n            history.push('/Resetpassword/'+state.email);\r\n        }\r\n    }\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n            <CssBaseline />\r\n            <div className={classes.paper}>\r\n                <Avatar className={classes.avatar}>\r\n                    <LockOutlinedIcon />\r\n                </Avatar>\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                    Forgot Password\r\n        </Typography>\r\n                <form className={classes.form} noValidate onSubmit={reset}>\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        id=\"email\"\r\n                        label=\"Email Address\"\r\n                        name=\"email\"\r\n                        autoComplete=\"email\"\r\n                        autoFocus\r\n                        value={state.email}\r\n                        onChange={(e) => handleChange(\"email\", e.target.value)}\r\n                    />\r\n                    <Grid>\r\n                        <div className=\"error\">\r\n                            {props.useremail.error}\r\n                        </div>\r\n                    </Grid>\r\n                    <Button\r\n                        type=\"submit\"\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        className={classes.submit}\r\n                        disabled={state.isSubmitting}\r\n                    >\r\n                        Send Reset Link\r\n          </Button>\r\n                    <Grid container>\r\n                        <Grid item xs>\r\n                        </Grid>\r\n                        <Grid item >\r\n                            Back to\r\n              <Link href=\"/#/login\" variant=\"body2\" className=\"mt-2\">\r\n                                {\" Sign in\"}\r\n                            </Link>\r\n                        </Grid>\r\n                    </Grid>\r\n                </form>\r\n            </div>\r\n        </Container>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    //console.log(state)\r\n    return {\r\n        useremail: state.userState\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { forgotPassword })(SignIn);","import { CREATEGROUP, FINDGROUP, SEARCHUSER } from \"../type\";\r\nimport axios from 'axios';\r\n\r\nexport const createGroup = (group) => async dispatch => {\r\n    try {\r\n        const { data } = await axios({\r\n            method: \"post\",\r\n            url: '/group',\r\n            data: {\r\n                groupName: group.groupName,\r\n                photoURL: group.photoURL\r\n            },\r\n        }\r\n        );\r\n        dispatch({\r\n            type: CREATEGROUP,\r\n            payload: {\r\n                error: null,\r\n                group: data\r\n            }\r\n        })\r\n    } catch (error) {\r\n        console.log(error)\r\n        dispatch({\r\n            type: CREATEGROUP,\r\n            payload: {\r\n                error: error.response.data.error,\r\n                group: null\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport const findGroups = () => async dispatch => {\r\n    try {\r\n        const { data } = await axios(`/group/find`);\r\n        dispatch({\r\n            type: FINDGROUP,\r\n            payload: data\r\n        })\r\n    } catch (error) {\r\n        console.log(error.response.data)\r\n        dispatch({\r\n            type: FINDGROUP,\r\n            payload: {\r\n                error: error.response.data.error,\r\n                group: null\r\n            }\r\n        })\r\n    }\r\n}\r\nexport const searchUser = (searchQuery) => async dispatch => {\r\n    try {\r\n        //console.log(searchQuery)\r\n        const { data } = await axios({\r\n            method: \"post\",\r\n            url: '/users/search',\r\n            data: searchQuery\r\n        }\r\n        );\r\n        //console.log(data)\r\n        dispatch({\r\n            type: SEARCHUSER,\r\n            payload: { searchQuery: data }\r\n        })\r\n\r\n    } catch (error) {\r\n        console.log(error)\r\n        console.log(error.response.data)\r\n        dispatch({\r\n            type: SEARCHUSER,\r\n            payload: {\r\n                error: error.response.data.error,\r\n                payload: null\r\n            }\r\n        })\r\n    }\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles, useTheme, fade } from '@material-ui/core/styles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport PeopleAltIcon from '@material-ui/icons/PeopleAlt';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../redux/action/user';\r\nimport { Link } from 'react-router-dom';\r\nimport { useHistory } from 'react-router-dom';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport Ouricon from '../assets/images/ouricon.jpg';\r\nimport { searchUser } from '../redux/action/group';\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport userimage from '../assets/images/user.jpg';\r\nimport { Card, Avatar, CardHeader } from '@material-ui/core';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        height: \"70px\"\r\n    },\r\n    appBar: {\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        transition: theme.transitions.create(['width', 'margin'], {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen,\r\n        }),\r\n    },\r\n    appBarShift: {\r\n        marginLeft: drawerWidth,\r\n        width: `calc(100% - ${drawerWidth}px)`,\r\n        transition: theme.transitions.create(['width', 'margin'], {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.enteringScreen,\r\n        }),\r\n    },\r\n    drawer: {\r\n        width: drawerWidth,\r\n        flexShrink: 0,\r\n        whiteSpace: 'nowrap',\r\n    },\r\n    drawerOpen: {\r\n        width: drawerWidth,\r\n        transition: theme.transitions.create('width', {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.enteringScreen,\r\n        }),\r\n    },\r\n    drawerClose: {\r\n        transition: theme.transitions.create('width', {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen,\r\n        }),\r\n        overflowX: 'hidden',\r\n        width: theme.spacing(7) + 1,\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: theme.spacing(9) + 1,\r\n        },\r\n    },\r\n    toolbar: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'flex-end',\r\n        padding: theme.spacing(0, 1),\r\n        // necessary for content to be below app bar\r\n        ...theme.mixins.toolbar,\r\n    },\r\n    content: {\r\n        flexGrow: 1,\r\n        padding: theme.spacing(3),\r\n    },\r\n    menuLogo: {\r\n        display: 'flex',\r\n        alignItems: 'center'\r\n    },\r\n    user: {\r\n        textTransform: 'uppercase',\r\n        background: '#fff',\r\n        color: '#000',\r\n        borderRadius: '50%',\r\n        width: '38px',\r\n        height: '38px',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        fontSize: '1.3rem'\r\n    },\r\n    search: {\r\n        position: 'relative',\r\n        borderRadius: theme.shape.borderRadius,\r\n        backgroundColor: fade(theme.palette.common.white, 0.15),\r\n        '&:hover': {\r\n            backgroundColor: fade(theme.palette.common.white, 0.25),\r\n        },\r\n        marginLeft: 0,\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            marginLeft: theme.spacing(1),\r\n            width: 'auto',\r\n        },\r\n    },\r\n    searchIcon: {\r\n        padding: theme.spacing(0, 2),\r\n        height: '100%',\r\n        position: 'absolute',\r\n        pointerEvents: 'none',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    inputRoot: {\r\n        color: 'inherit',\r\n        width: '500px'\r\n    },\r\n    inputInput: {\r\n        padding: theme.spacing(1, 1, 1, 0),\r\n        // vertical padding + font size from searchIcon\r\n        paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n        transition: theme.transitions.create('width'),\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: '12ch',\r\n            '&:focus': {\r\n                width: '20ch',\r\n            },\r\n        },\r\n    },\r\n    rootclick: {\r\n        position: 'relative',\r\n    },\r\n    dropdown: {\r\n        position: 'absolute',\r\n        right: 0,\r\n        left: 0,\r\n        zIndex: 1,\r\n        padding:'8px',\r\n        border: '1px solid',\r\n        // padding: theme.spacing(1),\r\n        backgroundColor: \"#3f51b5\",\r\n        color: \"black\",\r\n        borderBottomLeftRadius:\"8px\",\r\n        borderBottomRightRadius:\"8px\"\r\n    },\r\n\r\n}));\r\n\r\nfunction MiniDrawer(props) {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const history = useHistory();\r\n    const [open, setOpen] = React.useState(false);\r\n    const handleDrawerClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const [openClick, setopenClick] = React.useState(false);\r\n    // const [searchResults, setSearchResults] = React.useState([]);\r\n\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const [state, setState] = useState({\r\n        searchQuery: '',\r\n        searchQueryResult: null,\r\n        users: null\r\n    })\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClickAway = () => {\r\n        setopenClick(false);\r\n        setState({\r\n            ...state, searchQuery: ''\r\n        })\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n    const logoutUser = async () => {\r\n        await props.logout();\r\n        history.push(\"/login\");\r\n    }\r\n    const handleChangeSearch = (key, value) => {\r\n        setState({\r\n            ...state,\r\n            [key]: value\r\n        });\r\n    }\r\n    // const handleSearchChange = event => {\r\n    //     setSearchTerm(event.target.value);\r\n    //     const results = props.userState.users.filter(person =>\r\n    //         person.firstName.toLowerCase().indexOf(searchTerm) !== -1\r\n    //     );\r\n    //     setSearchResults(results);\r\n    // };\r\n\r\n    useEffect(() => {\r\n        if (!props.userState.isAuthenticated) {\r\n            history.push('/login');\r\n        }\r\n    }, [props, history]);\r\n\r\n    // React.useEffect(() => {\r\n    //     const results = props.userState.users.filter(person =>\r\n    //         person.toLowerCase().includes(searchTerm)\r\n    //     );\r\n    //     setSearchResults(results);\r\n    // }, [searchTerm]);\r\n\r\n\r\n    const handleSubmitSearch = async (e) => {\r\n        e.preventDefault();\r\n        setopenClick((prev) => !prev);\r\n        await props.searchUser({\r\n            searchQuery: state.searchQuery\r\n        });\r\n        //console.log(\"props\", props.group.searchQuery);\r\n        setState({ ...state, searchQueryResult: props.group.searchQuery });\r\n\r\n    };\r\n\r\n    const userDetailPage = async (id) => {\r\n        //console.log(id)\r\n        history.push(`/user/${id}`)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <CssBaseline />\r\n            <AppBar\r\n                position=\"fixed\"\r\n                className={clsx(classes.appBar, {\r\n                    [classes.appBarShift]: open,\r\n                })}\r\n            >\r\n                <Toolbar style={{ justifyContent: 'space-between' }}>\r\n                    <div className={classes.menuLogo}>\r\n                        <Typography variant=\"h6\" noWrap style={{ width: \"50px\", height: \"50px\", borderRadius: \"50%\" }}>\r\n                            <Link to=\"/\" style={{ textDecoration: \"none\" }}>\r\n                                <img src={Ouricon} alt=\"user\" style={{ width: \"100%\", cursor: \"pointer\" }} />\r\n                            </Link>\r\n                        </Typography>\r\n                        <form className={classes.search} style={{ marginLeft: \"100px\" }} onSubmit={handleSubmitSearch}>\r\n                            <div className={classes.searchIcon} >\r\n                                <SearchIcon type=\"submit\" />\r\n                            </div>\r\n                            <InputBase\r\n                                placeholder=\"Search\"\r\n                                classes={{\r\n                                    root: classes.inputRoot,\r\n                                    input: classes.inputInput,\r\n                                }}\r\n                                value={state.searchQuery}\r\n                                // value={searchTerm}\r\n                                // onChange={handleSearchChange}\r\n                                inputProps={{ 'aria-label': 'search' }}\r\n                                onChange={(e) => handleChangeSearch(\"searchQuery\", e.target.value)}\r\n                            />\r\n                            {/* <ul>\r\n                                {searchResults.map(item => (\r\n                                    <li key={item._id}>{item.firstName}</li>\r\n                                ))}\r\n                            </ul> */}\r\n                            <ClickAwayListener onClickAway={handleClickAway}>\r\n                                <div className={classes.rootclick}>\r\n                                    <div>\r\n                                        {\r\n                                            openClick ? (\r\n                                                <div className={classes.dropdown} >\r\n                                                    <Grid style={{ margin: '10px 0' }} container direction=\"column\" >\r\n                                                        {state.searchQueryResult && state.searchQueryResult.map((item) => (\r\n                                                            <Grid item key={item._id} onClick={() => userDetailPage(item._id)}>\r\n                                                                {/* <div style={{ color: \"white\" }}>\r\n                                                                    We have this user.\r\n                                                                </div> */}\r\n                                                                <Tooltip title=\"click for seen user Details\" aria-label=\"add\">\r\n                                                                    <Card style={{ cursor: \"pointer\" }}>\r\n                                                                        <CardHeader\r\n                                                                            avatar={\r\n                                                                                <Avatar alt=\"user\" src={item.photoURL || userimage} />\r\n                                                                            }\r\n                                                                            title={item.firstName + \" \" + item.lastName}\r\n                                                                        />\r\n                                                                    </Card>\r\n                                                                </Tooltip>\r\n                                                            </Grid>\r\n                                                        ))}\r\n                                                    </Grid>\r\n                                                </div>\r\n                                            ) : null}\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </ClickAwayListener>\r\n\r\n                        </form>\r\n                    </div>\r\n                    {props.user &&\r\n                        <div>\r\n                            <IconButton\r\n                                aria-label=\"account of current user\"\r\n                                aria-controls=\"menu-appbar\"\r\n                                aria-haspopup=\"true\"\r\n                                onClick={handleClick}\r\n                                color=\"inherit\"\r\n                            >\r\n                                <div>\r\n\r\n                                </div>\r\n                                {props.user.photoURL ? <img src={props.user.photoURL} alt={props.user.firstName} className={classes.user} />\r\n                                    : <span className={classes.user} style={{ padding: 4 }}>\r\n                                        {props.user.firstName[0]}{props.user.lastName[0]}\r\n                                    </span>\r\n                                }\r\n                            </IconButton>\r\n\r\n                            <Menu\r\n                                id=\"simple-menu\"\r\n                                anchorEl={anchorEl}\r\n                                keepMounted\r\n                                open={Boolean(anchorEl)}\r\n                                onClose={handleClose}\r\n                            >\r\n                                <MenuItem onClick={handleClose}><Link to=\"/profile\" style={{ color: \"black\", textDecoration: \"none\" }}>Profile</Link></MenuItem>\r\n\r\n                                <MenuItem onClick={logoutUser}>Logout</MenuItem>\r\n                            </Menu>\r\n                        </div>\r\n                    }\r\n                </Toolbar>\r\n            </AppBar>\r\n            <Drawer\r\n                variant=\"permanent\"\r\n                className={clsx(classes.drawer, {\r\n                    [classes.drawerOpen]: open,\r\n                    [classes.drawerClose]: !open,\r\n                })}\r\n                classes={{\r\n                    paper: clsx({\r\n                        [classes.drawerOpen]: open,\r\n                        [classes.drawerClose]: !open,\r\n                    }),\r\n                }}\r\n            >\r\n                <div className={classes.toolbar}>\r\n                    <IconButton onClick={handleDrawerClose}>\r\n                        {theme.direction === 'rtl' ? <ChevronRightIcon /> : <ChevronLeftIcon />}\r\n                    </IconButton>\r\n                </div>\r\n                <Divider />\r\n                <List>\r\n                    <ListItem button>\r\n                        <Link to=\"/\" style={{ textDecoration: \"none\" }}>\r\n                            <ListItemIcon style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', minWidth: '30px' }}>\r\n                                <HomeIcon />\r\n                                <Typography variant=\"body2\">Home</Typography>\r\n                            </ListItemIcon>\r\n                        </Link>\r\n                    </ListItem>\r\n                    <ListItem button>\r\n                        <Link to=\"/friend\" style={{ textDecoration: \"none\" }}>\r\n                            <ListItemIcon style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', minWidth: '30px' }}>\r\n                                <PersonIcon />\r\n                                <Typography variant=\"body2\">Friend</Typography>\r\n                            </ListItemIcon>\r\n                        </Link>\r\n                    </ListItem>\r\n                    <ListItem button>\r\n                        <Link to=\"/group\" style={{ textDecoration: \"none\" }}>\r\n                            <ListItemIcon style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', minWidth: '30px' }}>\r\n                                <PeopleAltIcon />\r\n                                <Typography variant=\"body2\">Group</Typography>\r\n                            </ListItemIcon>\r\n                        </Link>\r\n                    </ListItem>\r\n                </List>\r\n            </Drawer>\r\n            <main className={classes.content}>\r\n                <div className={classes.toolbar} />\r\n\r\n            </main>\r\n        </div >\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    //console.log(state.userState)\r\n    return {\r\n        user: state.userState.user,\r\n        isAuth: state.isAuthenticated,\r\n        group: state.groupReducer,\r\n        userState: state.userState,\r\n    }\r\n}\r\nexport default connect(mapStateToProps, { logout, searchUser })(MiniDrawer);","import { REQUEST, ALLREQUEST, UPDATEREQUEST, FRIENDS } from '../type';\r\nimport axios from 'axios';\r\n\r\n\r\nexport const sendRequest = (user) => async dispatch => {\r\n    console.log(user)\r\n    try {\r\n        const { data } = await axios({\r\n            method: \"post\",\r\n            url: '/request',\r\n            data: user,\r\n        }\r\n        );\r\n        //console.log('data',data)\r\n\r\n        dispatch({\r\n            type: REQUEST,\r\n            payload: {\r\n                error: null,\r\n                request: data\r\n            }\r\n        })\r\n    } catch (error) {\r\n        console.log(error)\r\n        dispatch({\r\n            type: REQUEST,\r\n            payload: {\r\n                error: error.response.data.error,\r\n                request: null\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport const allRequest = () => async dispatch => {\r\n    try {\r\n        const { data } = await axios(`/request/all`);\r\n        dispatch({\r\n            type: ALLREQUEST,\r\n            payload: { requests: data }\r\n        })\r\n    } catch (error) {\r\n        console.log(error)\r\n\r\n    }\r\n}\r\n\r\nexport const updatetRequest = (friend) => async dispatch => {\r\n    try {\r\n        const { data } = await axios({\r\n            method: \"put\",\r\n            url: '/request/update',\r\n            data: friend,\r\n        }\r\n        );\r\n        //console.log(data)\r\n        dispatch({\r\n            type: UPDATEREQUEST,\r\n            payload: {\r\n                error: null,\r\n                update: data\r\n            }\r\n        })\r\n    } catch (error) {\r\n        console.log(error)\r\n        console.log(error.response.data)\r\n        dispatch({\r\n            type: UPDATEREQUEST,\r\n            payload: {\r\n                error: error.response.data.error,\r\n                request: null\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport const allFriends = () => async dispatch => {\r\n    try {\r\n        const { data } = await axios(`/users/friend`);\r\n        //console.log('data', data)\r\n        dispatch({\r\n            type: FRIENDS,\r\n            payload: { friends: data }\r\n        })\r\n        //console.log(data)\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Header from '../components/header';\r\nimport { connect } from 'react-redux';\r\nimport { allUser } from '../redux/action/user';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport userimage from '../assets/images/user.jpg';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { Paper } from '@material-ui/core';\r\nimport { sendRequest, allRequest, updatetRequest } from '../redux/action/request';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nclass Home extends Component {\r\n    state = {\r\n        users: null,\r\n        snackbarOpen: false,\r\n        snackbarMessage: \"\",\r\n        snackbarSeverity: \"success\"\r\n    }\r\n    async componentDidMount() {\r\n        if (this.props.userState.user) {\r\n            if (!this.props.userState.users) {\r\n                await this.props.allUser();\r\n            }\r\n            await this.props.allRequest();\r\n            this.setState({\r\n                users: this.props.userState.users,\r\n            })\r\n            //console.log(this.props.request.requests)\r\n            await this.props.updatetRequest();\r\n            console.log(this.props, \"user\")\r\n        }\r\n    }\r\n\r\n    connect = async (receiver) => {\r\n        await this.props.sendRequest({\r\n            receiver: receiver,\r\n            sender: this.props.userState.user.id\r\n        });\r\n        // console.log('message',this.props.request.error);\r\n        if (this.props.request.error) {\r\n            this.setState({\r\n                snackbarOpen: true,\r\n                snackbarMessage: this.props.request.error,\r\n                snackbarSeverity: 'error'\r\n            })\r\n        } else {\r\n            this.setState({\r\n                snackbarOpen: true,\r\n                snackbarMessage: this.props.request.request.message\r\n            })\r\n\r\n        }\r\n    }\r\n    acceptGroupRequest = async (id, groupId) => {\r\n        await this.props.updatetRequest({\r\n            isAccepted: true,\r\n            id,\r\n            groupId\r\n        });\r\n        this.setState({\r\n            snackbarOpen: true,\r\n            snackbarMessage: \"Accept request successfully\"\r\n        });\r\n        await this.props.allRequest();\r\n    }\r\n    Accept = async (id, friend) => {\r\n        await this.props.updatetRequest({\r\n            isAccepted: true,\r\n            id,\r\n            friend\r\n        });\r\n        this.setState({\r\n            snackbarOpen: true,\r\n            snackbarMessage: \"Accept request successfully\"\r\n        });\r\n        await this.props.allRequest();\r\n\r\n    }\r\n    Reject = async (id) => {\r\n        await this.props.updatetRequest({\r\n            isReject: true,\r\n            id\r\n        });\r\n        this.setState({\r\n            snackbarOpen: true,\r\n            snackbarMessage: \"Reject request successfully\",\r\n            snackbarSeverity: 'error'\r\n        })\r\n        await this.props.allRequest();\r\n\r\n    }\r\n\r\n\r\n\r\n    showSnackbar = () => {\r\n        return <Snackbar\r\n            anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n            open={this.state.snackbarOpen}\r\n            onClose={() => { this.setState({ snackbarOpen: false }) }}\r\n            autoHideDuration={3000}\r\n        >\r\n            <MuiAlert severity={this.state.snackbarSeverity} variant=\"filled\">\r\n                {this.state.snackbarMessage}\r\n            </MuiAlert>\r\n        </Snackbar>\r\n    }\r\n    render() {\r\n\r\n        return (\r\n            <div className=\"backgrnd-home\" style={{ marginLeft: \"100px\" }}>\r\n                <Header />\r\n                {this.state.users ?\r\n                    <div className=\"row\">\r\n                        <Grid container >\r\n                            <Grid container item spacing={3} xs={12} sm={12} md={8}>\r\n                                {this.state.users && this.state.users.map((item) => (\r\n                                    <Grid item xs={12} sm={4} key={item._id}>\r\n                                        <Card style={{ maxWidth: \"200px\" }} className=\"col-2\">\r\n                                            <CardMedia\r\n                                                className=\"user-image\"\r\n                                                component=\"img\"\r\n                                                image={item.photoURL || userimage}\r\n                                                title=\"user image\"\r\n                                            />\r\n                                            <CardActions style={{ justifyContent: 'center', flexDirection: 'column' }}>\r\n                                                <Typography style={{ fontWeight: \"bold\" }}>\r\n                                                    {item.firstName + \" \" + item.lastName}\r\n                                                </Typography>\r\n                                                <Button variant=\"outlined\" color=\"primary\" onClick={() => this.connect(item._id)}>connect</Button>\r\n                                            </CardActions>\r\n\r\n                                        </Card>\r\n                                    </Grid>\r\n                                ))}\r\n\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={12} md={4}>\r\n                                <Paper style={{ padding: '1rem' }}>\r\n                                    <div style={{ textAlign: \"center\" }} >\r\n                                        <h3>Requests</h3>\r\n                                        {this.props.request.requests.length > 0 ?\r\n                                            <div>\r\n                                                {\r\n                                                    this.props.request.requests && this.props.request.requests.map((item) => (\r\n                                                        <Paper key={item._id} style={{ margin: \"10px\", padding: \"0 10px\" }} >\r\n                                                            {item.sender &&\r\n                                                                <Grid container spacing={1} justify=\"space-between\" alignItems=\"center\">\r\n                                                                    <Grid item >\r\n                                                                        <img alt=\"user\" src={item.sender.photoURL || userimage} style={{ width: \"40px\", height: \"40px\", borderRadius: \"50px\" }} />\r\n                                                                    </Grid>\r\n                                                                    <Grid item >\r\n                                                                        {item.sender.firstName + \" \" + item.sender.lastName}\r\n                                                                    </Grid>\r\n\r\n                                                                    <Grid item >\r\n                                                                        {/* <IconButton aria-label=\"delete\" color=\"primary\" onClick={() => this.Accept(item._id, item.sender._id)}>\r\n                                                                            <CheckIcon />\r\n                                                                        </IconButton> */}\r\n                                                                        <Button size=\"small\" color=\"primary\" className=\"request-btn\" variant=\"contained\" onClick={() => this.Accept(item._id, item.sender._id)}>\r\n                                                                            Accept\r\n                                                                        </Button>\r\n                                                                    </Grid>\r\n                                                                    <Grid item >\r\n                                                                        {/* <IconButton aria-label=\"delete\" color=\"secondary\" onClick={() => this.Reject(item._id)}>\r\n                                                                            <ClearIcon />\r\n                                                                        </IconButton> */}\r\n                                                                        <Button size=\"small\" className=\"request-btn\" color=\"secondary\" variant=\"contained\" onClick={() => this.Reject(item._id)}>\r\n                                                                            Reject\r\n                                                                        </Button>\r\n                                                                    </Grid>\r\n                                                                </Grid>\r\n                                                            }\r\n                                                            {item.groupId &&\r\n                                                                <Grid container spacing={1} justify=\"space-between\" alignItems=\"center\">\r\n\r\n                                                                    <Grid item >\r\n                                                                        <img alt=\"user\" src={item.groupId.photoURL || userimage} style={{ width: \"40px\", height: \"40px\", borderRadius: \"50px\" }} />\r\n                                                                    </Grid>\r\n                                                                    <Grid item >\r\n                                                                        {item.groupId.groupName}\r\n                                                                    </Grid>\r\n                                                                    <Grid item >\r\n                                                                        {/* <IconButton aria-label=\"delete\" color=\"primary\" onClick={() => this.acceptGroupRequest(item._id, item.groupId._id)}>\r\n                                                                            <CheckIcon />\r\n                                                                        </IconButton> */}\r\n                                                                        <Button size=\"small\" color=\"primary\" variant=\"contained\" onClick={() => this.acceptGroupRequest(item._id, item.groupId._id)}>\r\n                                                                            Accept\r\n                                                                        </Button>\r\n                                                                    </Grid>\r\n                                                                    <Grid item >\r\n                                                                        {/* <IconButton aria-label=\"delete\" color=\"secondary\" onClick={() => this.Reject(item._id)}>\r\n                                                                            <ClearIcon />\r\n                                                                        </IconButton> */}\r\n                                                                        <Button size=\"small\" color=\"secondary\" variant=\"contained\" onClick={() => this.Reject(item._id)}>\r\n                                                                            Reject\r\n                                                                        </Button>\r\n                                                                    </Grid>\r\n                                                                </Grid>\r\n                                                            }\r\n                                                        </Paper>\r\n                                                    ))\r\n                                                }\r\n                                            </div>\r\n                                            : <div>\r\n                                                No request\r\n                                        </div>\r\n                                        }\r\n                                    </div>\r\n\r\n                                </Paper>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </div>\r\n                    : <div className=\"loader\">\r\n                        <CircularProgress />\r\n                    </div>\r\n                }\r\n                {this.showSnackbar()}\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        userState: state.userState,\r\n        request: state.requestReducer\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { allUser, sendRequest, allRequest, updatetRequest })(Home);","import React, { useState } from 'react';\r\nimport Header from '../components/header';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Container from '@material-ui/core/Container';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { updateUser } from '../redux/action/user';\r\nimport { connect } from 'react-redux';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Backdrop, CircularProgress } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  input: {\r\n    display: 'none',\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: '#fff',\r\n  },\r\n}));\r\nconst Profile = (props) => {\r\n  const classes = useStyles();\r\n  const user = useSelector(state => state.userState);\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const [state, setState] = useState({\r\n    userId: props?.user.id,\r\n    token: props?.user.token,\r\n    firstName: props?.user.firstName,\r\n    lastName: props?.user.lastName,\r\n    email: props?.user.email,\r\n    isSubmitting: false,\r\n    photoURL: null\r\n\r\n  });\r\n  const handleChange = (key, value) => {\r\n    const newState = { ...state };\r\n    newState[key] = value;\r\n    setState(newState);\r\n  }\r\n  const handleSubmit = async (e) => {\r\n    console.log(state)\r\n    e.preventDefault();\r\n    if (!state.photoURL && !state.firstName && !state.lastName) {\r\n      return\r\n    }\r\n    const newState = { ...state };\r\n    newState.isSubmitting = true;\r\n    setState(newState);\r\n    await dispatch(updateUser(state));\r\n    newState.isSubmitting = false;\r\n    newState.photoURL = null;\r\n    setState(newState);\r\n    if (!user.error) {\r\n      history.push('/profile');\r\n    }\r\n  }\r\n  const removeImage = async (e) => {\r\n    e.preventDefault();\r\n    const newState = { ...state };\r\n    newState.isSubmitting = true;\r\n    setState(newState);\r\n    await dispatch(updateUser(state));\r\n    newState.isSubmitting = false;\r\n    newState.photoURL = null;\r\n    setState(newState);\r\n    if (!user.error) {\r\n      history.push('/profile');\r\n    }\r\n  }\r\n  return props.user && (\r\n    <div>\r\n      <Header />\r\n      <main className=\"backgrnd\" style={{ marginLeft: \"100px\", textAlign: \"center\", marginTop: \"50px \" }} >\r\n        <div style={{ marginBottom: \"40px\" }}>\r\n          {state.photoURL ? <img src={URL.createObjectURL(state.photoURL)} style={{ borderRadius: \"50%\", width: \"200px\", height: \"200px\" }} alt={props.user.firstName} />\r\n            : props?.user?.photoURL ? <img src={props.user.photoURL} style={{ borderRadius: \"50%\", width: \"200px\", height: \"200px\" }} alt={props.user.firstName} />\r\n              : <span style={{ background: \"gray\", borderRadius: \"50%\", width: \"50%\", height: \"50%\", padding: \"40px\", color: \"#000\", fontSize: \"50px\", textTransform: \"uppercase\" }}>\r\n                {props.user.firstName[0]}{props.user.lastName[0]}\r\n              </span>\r\n          }\r\n        </div>\r\n\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n          <CssBaseline />\r\n          <Tooltip title=\"Remove Photo\">\r\n            <IconButton color=\"secondary\" aria-label=\"upload picture\" component=\"span\" disabled={state.isSubmitting}\r\n              onClick={removeImage}>\r\n              <DeleteIcon />\r\n            </IconButton>\r\n          </Tooltip>\r\n          <h3>wish to update details..</h3>\r\n          <h3>Please edit Below..</h3>\r\n\r\n          <form onSubmit={handleSubmit} noValidate>\r\n            <Grid item xs={12}>\r\n              <input accept=\"image/*\"\r\n                id=\"icon-button-file\"\r\n                type=\"file\"\r\n                className={classes.input}\r\n                onChange={(e) => handleChange(\"photoURL\", e.target.files[0])} />\r\n              <label htmlFor=\"icon-button-file\">\r\n                <Tooltip title=\"Upload Photo\">\r\n                  <IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\">\r\n                    <PhotoCamera />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              </label>\r\n            </Grid>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12} >\r\n                <TextField\r\n                  autoComplete=\"fname\"\r\n                  name=\"firstName\"\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"firstName\"\r\n                  label=\"First Name\"\r\n                  value={state.firstName}\r\n                  onChange={(e) => handleChange(\"firstName\", e.target.value)}\r\n                  error={!!state.firstNameError}\r\n                  helperText={state.firstNameError}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"lastName\"\r\n                  label=\"Last Name\"\r\n                  name=\"lastName\"\r\n                  autoComplete=\"lname\"\r\n                  value={state.lastName}\r\n                  onChange={(e) => handleChange(\"lastName\", e.target.value)}\r\n                  error={!!state.lastNameError}\r\n                  helperText={state.lastNameError}\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n            <Button\r\n              type=\"submit\"\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              style={{margin:\"10px\"}}\r\n              disabled={state.isSubmitting}>\r\n              Update Details\r\n          </Button>\r\n          </form>\r\n        </Container>\r\n        <h3>\r\n          Name: {props.user.firstName + \" \" + props.user.lastName}\r\n        </h3>\r\n        <h3>\r\n          Email: {props.user.email}\r\n        </h3>\r\n      </main>\r\n      <Backdrop className={classes.backdrop} open={state.isSubmitting} >\r\n        <CircularProgress color=\"inherit\" />\r\n      </Backdrop>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  //console.log(\"pro\", state)\r\n  return {\r\n    user: state.userState.user,\r\n    isAuth: state.isAuthenticated\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Profile);","import React, { useState } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { connect } from 'react-redux';\r\nimport { changePassword } from '../redux/action/user';\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n        marginTop: theme.spacing(8),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        background: '#fff',\r\n        padding: theme.spacing(3),\r\n        boxShadow: '0px 3px 3px -2px rgba(0,0,0,0.2), 0px 3px 4px 0px rgba(0,0,0,0.14), 0px 1px 8px 0px rgba(0,0,0,0.12)'\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%',\r\n        marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n}));\r\n\r\nconst Resetpassword = (props) => {\r\n    const classes = useStyles();\r\n   // const user = useSelector(state => state.userState);\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n\r\n    const [state, setState] = useState({\r\n        resetToken: \"\",\r\n        password: \"\",\r\n        isSubmitting: false,\r\n        email: props.match.params.email\r\n    });\r\n\r\n\r\n    const handleChange = (key, value) => {\r\n        setState({\r\n            ...state,\r\n            [key]: value\r\n        });\r\n    }\r\n\r\n    const reset = async (e) => {\r\n        e.preventDefault();\r\n        setState({ ...state, isSubmitting: true });\r\n\r\n        await dispatch(changePassword(state));\r\n        setState({ ...state, isSubmitting: false });\r\n        if (!props.user.error) {\r\n            history.push('/login');\r\n        }\r\n    }\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n\r\n            <CssBaseline />\r\n            <div className={classes.paper}>\r\n                <Avatar className={classes.avatar}>\r\n                    <LockOutlinedIcon />\r\n                </Avatar>\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                    Reset Password\r\n        </Typography>\r\n                <form className={classes.form} noValidate onSubmit={reset}>\r\n                    <Grid>\r\n                        <h2> {props.match.params.email}</h2>\r\n                    </Grid>\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        name=\"resetToken\"\r\n                        label=\"resetToken\"\r\n                        type=\"resetToken\"\r\n                        id=\"resetToken\"\r\n                        autoComplete=\"resetToken\"\r\n                        value={state.resetToken}\r\n                        onChange={(e) => handleChange(\"resetToken\", e.target.value)}\r\n                    />\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        name=\"password\"\r\n                        label=\"Password\"\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        autoComplete=\"current-password\"\r\n                        value={state.password}\r\n                        onChange={(e) => handleChange(\"password\", e.target.value)}\r\n                    />\r\n                    <Grid>\r\n                    <div className=\"error\">\r\n                            {props.user.error}\r\n                        </div>\r\n                    </Grid>\r\n                    <Button\r\n                        type=\"submit\"\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        className={classes.submit}\r\n                    >\r\n                        Change Password\r\n          </Button>\r\n                    <Grid container>\r\n                        <Grid item xs>\r\n                        </Grid>\r\n                        <Grid item >\r\n                            Back to\r\n              <Link href=\"/\" variant=\"body2\" className=\"mt-2\">\r\n                                {\" Sign in\"}\r\n                            </Link>\r\n                        </Grid>\r\n                    </Grid>\r\n                </form>\r\n            </div>\r\n        </Container>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    console.log(state)\r\n    return {\r\n        user: state.userState\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { changePassword })(Resetpassword);","import React, { Component } from 'react';\r\nimport Header from '../components/header';\r\nimport { allFriends } from '../redux/action/request';\r\nimport { connect } from 'react-redux';\r\nimport { Card } from '@material-ui/core';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport userimage from '../assets/images/user.jpg';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Avatar, CardHeader, Fab } from '@material-ui/core';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport AttachmentIcon from '@material-ui/icons/Attachment';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport * as io from 'socket.io-client';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { singleChat } from '../redux/action/chat';\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport Portal from '@material-ui/core/Portal';\r\nimport Picker from 'emoji-picker-react';\r\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon';\r\n\r\nclass Friends extends Component {\r\n    state = {\r\n        friends: null,\r\n        selectFriend: null,\r\n        message: \"\",\r\n        messages: [],\r\n        user: this.props.user.user,\r\n        loading: false,\r\n        openemoji: false,\r\n        chosenEmoji: null\r\n    }\r\n    messageRef = React.createRef();\r\n    socket = null;\r\n    async componentDidMount() {\r\n        await this.props.allFriends();\r\n        // console.log(this.props)\r\n        await this.setState({ friends: this.props.friend.friends.friends });\r\n        //  console.log(this.state.friends);\r\n        this.socket = io(\"/\");\r\n        this.socket.emit('user-join', this.props.user.user.id);\r\n        this.socket.on('user-join', async (data) => {\r\n            const friends = [...this.state.friends];\r\n            for (let friend of friends) {\r\n                friend.unread = 0;\r\n                if (friend._id === data.userId) {\r\n                    friend.socketId = data.socketId\r\n                }\r\n            }\r\n            await this.setState({ friends });\r\n        });\r\n        this.socket.on('one-2-one', (data) => {\r\n            if ((data.sender === this.state.user.id) || (this.state.selectFriend && this.state.selectFriend._id === data.sender)) {\r\n                const messages = [...this.state.messages];\r\n                messages.push(data);\r\n                this.setState({ messages });\r\n            } else {\r\n                const friends = [...this.state.friends];\r\n                for (let friend of friends) {\r\n                    if (friend._id === data.sender) {\r\n                        friend.unread = friend.unread ? friend.unread + 1 : 1;\r\n                    }\r\n                }\r\n                this.setState({ friends });\r\n\r\n            }\r\n            this.scrollToBottom();\r\n        });\r\n    }\r\n\r\n    sendMessage = async (e) => {\r\n        e.preventDefault();\r\n        const message = {\r\n            name: this.state.user.firstName + \" \" + this.state.user.lastName,\r\n            photoURL: this.state.user.photoURL || null,\r\n            sender: this.state.user.id,\r\n            message: this.state.message,\r\n            socketId: this.state.selectFriend.socketId,\r\n            receiver: this.state.selectFriend._id\r\n        }\r\n        //console.log(this.socket.id);\r\n        //console.log(message);\r\n        if (this.state.message) {\r\n            this.socket.emit('one-2-one', message);\r\n            this.setState({\r\n                ...this.state,\r\n                message: ''\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    handleClose() {\r\n        this.setState({\r\n            open: false\r\n        });\r\n    }\r\n\r\n    handleSave(files) {\r\n        //Saving files to state for further use and closing Modal.\r\n        this.setState({\r\n            files: files,\r\n            open: false\r\n        });\r\n        console.log(files)\r\n    }\r\n\r\n    handleOpen() {\r\n        this.setState({\r\n            open: true,\r\n        });\r\n    }\r\n\r\n    // hanleSearchChange = (e) => {\r\n    //     this.setState({\r\n    //         chatMessage: e.target.value\r\n    //     })\r\n    // }\r\n    renderCards = () => {\r\n        console.log(\"inside renderrrr\", this.props.chats)\r\n        this.props.chats.chats\r\n            && this.props.chats.chats.chats.map((chat) => (\r\n                {/*<ChatCard  key={chat._id}  {...chat} />*/ }\r\n            ));\r\n    }\r\n    handleFrndChat = async (item) => {\r\n        //console.log(item)\r\n        item.unread = 0;\r\n        await this.setState({\r\n            selectFriend: item\r\n        });\r\n        this.setState({\r\n            loading: true\r\n        });\r\n        await this.props.singleChat(item._id);\r\n        //console.log(this.props.chats.singleMessages)\r\n        await this.setState({\r\n            messages: this.props.chats.singleMessages\r\n        })\r\n        await this.setState({\r\n            loading: false\r\n        });\r\n        this.scrollToBottom();\r\n    }\r\n\r\n    onChangeHandler = (event) => {\r\n        console.log(event.target.files[0]);\r\n        const message = {\r\n            name: this.state.user.firstName + \" \" + this.state.user.lastName,\r\n            photoURL: this.state.user.photoURL || null,\r\n            sender: this.state.user.id,\r\n            file: event.target.files[0],\r\n            fileName: event.target.files[0].name,\r\n            type: event.target.files[0].type,\r\n            socketId: this.state.selectFriend.socketId,\r\n            receiver: this.state.selectFriend._id\r\n        }\r\n        this.socket.emit('single-fileupload', message);\r\n    }\r\n\r\n    handleClickEmoji = () => {\r\n        this.setState({\r\n            openemoji: true\r\n        })\r\n    };\r\n\r\n    handleClickAwayEmoji = () => {\r\n        this.setState({\r\n            openemoji: false\r\n        })\r\n        // setOpenEmoji(false);\r\n    };\r\n\r\n    onEmojiClick = async (event, emojiObject) => {\r\n        // this.setState(emojiObject);\r\n        //console.log(emojiObject.emoji)\r\n        await this.setState({\r\n            ...this.state, message: this.state.message + emojiObject.emoji\r\n        })\r\n        this.setState({\r\n            chosenEmoji: false\r\n        })\r\n    };\r\n\r\n    scrollToBottom = () => {\r\n        this.messageRef.current && this.messageRef.current.scrollIntoView();\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"backgrnd\" style={{ marginLeft: \"100px\" }}>\r\n                <Header />\r\n                {this.state.friends ?\r\n                    <Grid container >\r\n                        <Grid item sm={3} >\r\n                            <div className=\"friend-list\">\r\n                                <Grid container direction=\"column\" alignItems=\"flex-start\">\r\n                                    {this.state.friends && this.state.friends.map((item) => (\r\n                                        <Grid item key={item._id} style={{ margin: '10px 0' }}>\r\n                                            <Card className=\"backgrnd\" onClick={() => this.handleFrndChat(item)} style={this.state.selectFriend && this.state.selectFriend._id === item._id ? { backgroundColor: '#bbb' } : { cursor: 'pointer' }}>\r\n                                                <CardHeader\r\n                                                    avatar={\r\n                                                        <Avatar alt=\"user\" src={item.photoURL || userimage} />\r\n                                                    }\r\n                                                    title={item.firstName + \" \" + item.lastName}\r\n                                                    action={\r\n                                                        <span className='unread'>\r\n                                                            {item.unread > 0 && item.unread}\r\n                                                        </span>\r\n                                                    }\r\n                                                    subheader={\r\n                                                        <div>\r\n                                                            Last seen:{new Date(item.updatedAt).toLocaleTimeString()}\r\n                                                        </div>\r\n                                                    }\r\n                                                />\r\n                                            </Card>\r\n                                        </Grid>\r\n                                    ))}\r\n                                </Grid>\r\n                            </div>\r\n                        </Grid>\r\n                        <Grid item sm={9}>\r\n                            <div>\r\n                                {!this.state.selectFriend ?\r\n                                    <div>\r\n                                        {this.state.friends.length === 0 ?\r\n                                            <h1>You don't have any friend.</h1>\r\n                                           : <h1>Click on any friend to start conversation.</h1>\r\n                                        }\r\n                                    </div>\r\n                                    :\r\n                                    <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                                        <AppBar position=\"relative\" style={{ background: \"#37474f\" }}>\r\n                                            <Toolbar>\r\n                                                <Typography variant=\"h6\" className=\"title\" noWrap>\r\n                                                    <CardHeader\r\n                                                        avatar={\r\n                                                            <Avatar alt=\"user\" src={this.state.selectFriend.photoURL || userimage} />\r\n                                                        }\r\n                                                        title={this.state.selectFriend.firstName + ' ' + this.state.selectFriend.lastName}\r\n                                                        subheader={\r\n                                                            <div className=\"time\">Last seen:{new Date(this.state.selectFriend.updatedAt).toLocaleTimeString() + ' ' + new Date(this.state.selectFriend.updatedAt).toLocaleDateString()}\r\n                                                            </div>\r\n                                                        }\r\n                                                    />\r\n                                                </Typography>\r\n                                                <Tooltip title=\"Share documents\" aria-label=\"add\">\r\n                                                    <Fab size=\"small\" style={{ marginRight: \"8px\" }}>\r\n                                                        <input accept=\"image/*,video/*,application/pdf\" className='input' id=\"icon-button-file\" type=\"file\" onChange={this.onChangeHandler} />\r\n                                                        <label htmlFor=\"icon-button-file\" >\r\n                                                            <IconButton type=\"file\" aria-label=\"upload picture\" component=\"span\">\r\n                                                                <AttachmentIcon />\r\n                                                            </IconButton>\r\n                                                        </label>\r\n                                                    </Fab>\r\n                                                </Tooltip>\r\n                                            </Toolbar>\r\n                                        </AppBar>\r\n                                        <div className=\"chat-box\">\r\n                                            <Grid className=\"messages\">\r\n                                                {this.state.loading && <div className=\"loader\"><CircularProgress /></div>}\r\n                                                {this.state.messages.map(item => (\r\n                                                    <Grid item xs={12} key={item._id} style={{ padding: '8px' }} ref={this.messageRef}>\r\n                                                        <div className=\"message\">\r\n                                                            <Avatar className=\"message-photo\" src={item.photoURL || userimage} alt=\"message\" />\r\n                                                            <div className=\"message-name\">{item.name}</div>\r\n                                                        </div>\r\n                                                        {item.file ?\r\n                                                            <>\r\n                                                                {item?.type.indexOf('video') !== -1 ?\r\n                                                                    <video width=\"320\" height=\"240\" controls autoPlay>\r\n                                                                        <source src={`/uploads/${item.file}`} type={item.type} />\r\n                                                                    </video>\r\n                                                                    :\r\n                                                                    item?.type.indexOf('pdf') !== -1 || item?.type.indexOf('text') !== -1 ?\r\n                                                                        <div className=\"message-content\">\r\n                                                                            <a className=\"send-link\" target=\"_blank\" rel=\"noopener noreferrer\" href={\"/uploads/\" + item.file}>{item.fileName || 'open pdf'}</a>\r\n                                                                        </div>\r\n                                                                        :\r\n                                                                        <img className=\"message-file\" src={`/uploads/${item.file}`} alt={item.file} />\r\n                                                                }\r\n                                                            </>\r\n                                                            :\r\n                                                            <div className=\"message-content\">{item.message}</div>\r\n                                                        }\r\n                                                    </Grid>\r\n                                                ))}\r\n                                            </Grid>\r\n                                            <form className=\"message-form\" onSubmit={this.sendMessage}>\r\n                                                <Grid container>\r\n                                                    <Grid item xs={1} sm={1}>\r\n                                                        <div>\r\n                                                            <ClickAwayListener onClickAway={this.handleClickAwayEmoji}>\r\n                                                                <div>\r\n                                                                    <InsertEmoticonIcon onClick={this.handleClickEmoji} style={{ cursor: \"pointer\" }} />\r\n                                                                    {this.state.openemoji ? (\r\n                                                                        <Portal>\r\n                                                                            <div className=\"emoji-class\">\r\n                                                                                <Picker onEmojiClick={this.onEmojiClick} />\r\n                                                                            </div>\r\n                                                                        </Portal>\r\n                                                                    ) : null}\r\n                                                                </div>\r\n                                                            </ClickAwayListener>\r\n                                                        </div>\r\n                                                    </Grid>\r\n                                                    <Grid item xs={9} sm={10}>\r\n                                                        <TextField\r\n                                                            fullWidth\r\n                                                            name=\"message\"\r\n                                                            variant=\"outlined\"\r\n                                                            autoComplete=\"off\"\r\n                                                            size=\"small\"\r\n                                                            value={this.state.message}\r\n                                                            onChange={(e) => this.setState({ message: e.target.value })}\r\n                                                        />\r\n                                                    </Grid >\r\n                                                    <Grid item xs={2} sm={1}>\r\n                                                        <Fab style={{\r\n                                                            width: \"40px\",\r\n                                                            height: \"40px\"\r\n                                                        }} type=\"submit\"><SendIcon /></Fab>\r\n                                                    </Grid>\r\n                                                </Grid>\r\n                                            </form>\r\n\r\n                                        </div>\r\n\r\n                                    </div>\r\n\r\n                                }\r\n                            </div>\r\n\r\n                        </Grid>\r\n                    </Grid>\r\n                    : <div className='loader'>\r\n                        <CircularProgress />\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    //console.log(\"state11\", state)\r\n    //console.log(\"chat\", state.singleChatReducer)\r\n    return {\r\n        friend: state.requestReducer,\r\n        user: state.userState,\r\n        chats: state.chatReducer\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, { allFriends, singleChat })(Friends);","import { ALLMESSAGE, SINGLECHAT } from '../type';\r\nimport axios from 'axios';\r\nexport const allMessage = (groupId) => async (dispatch) => {\r\n    try {\r\n        axios.defaults.withCredentials = true;\r\n        const { data } = await axios(`/chat/${groupId}`);\r\n        dispatch({\r\n            type: ALLMESSAGE,\r\n            payload: { messages: data }\r\n        })\r\n    } catch (error) {\r\n        console.log(error)\r\n        console.log(error.response.data)\r\n        dispatch({\r\n            type: ALLMESSAGE,\r\n            payload: {\r\n                error: error.response.data.error,\r\n                group: null\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport const singleChat = (friendId) => async (dispatch) => {\r\n    try {\r\n        axios.defaults.withCredentials = true;\r\n        const { data } = await axios(`/chat/single/${friendId}`);\r\n        dispatch({\r\n            type: SINGLECHAT,\r\n            payload: { singleMessages: data }\r\n        })\r\n    } catch (error) {\r\n        console.log(error)\r\n        console.log(error.response.data)\r\n        dispatch({\r\n            type: SINGLECHAT,\r\n            payload: {\r\n                error: error.response.data.error,\r\n                group: null\r\n            }\r\n        })\r\n    }\r\n}","import React, { useState, useEffect, useRef } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Header from '../components/header';\r\nimport { connect } from 'react-redux';\r\nimport { createGroup, findGroups, searchUser } from '../redux/action/group';\r\nimport { allMessage } from '../redux/action/chat';\r\nimport { useDispatch } from 'react-redux';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport userimage from '../assets/images/user.jpg';\r\nimport { Card, Avatar, CardHeader, Fab } from '@material-ui/core';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { fade, makeStyles } from '@material-ui/core/styles';\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\nimport AttachmentIcon from '@material-ui/icons/Attachment';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { sendRequest } from '../redux/action/request';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport * as io from 'socket.io-client';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport Picker from 'emoji-picker-react';\r\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon';\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport Portal from '@material-ui/core/Portal';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        flexGrow: 1,\r\n        width: \"100%\"\r\n    },\r\n    root1: {\r\n        display: 'flex',\r\n        justifyContent: \"center\",\r\n        height: \"100vh\",\r\n        alignItems: \"center\"\r\n    },\r\n\r\n    title: {\r\n        flexGrow: 1,\r\n        display: 'none',\r\n        [theme.breakpoints.up('sm')]: {\r\n            display: 'block',\r\n        },\r\n    },\r\n    search: {\r\n        position: 'relative',\r\n        borderRadius: theme.shape.borderRadius,\r\n        backgroundColor: fade(theme.palette.common.white, 0.15),\r\n        '&:hover': {\r\n            backgroundColor: fade(theme.palette.common.white, 0.25),\r\n        },\r\n        marginLeft: 0,\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            marginLeft: theme.spacing(1),\r\n            width: 'auto',\r\n        },\r\n    },\r\n    searchIcon: {\r\n        padding: theme.spacing(0, 2),\r\n        height: '100%',\r\n        position: 'absolute',\r\n        pointerEvents: 'none',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    inputRoot: {\r\n        color: 'inherit',\r\n    },\r\n    inputInput: {\r\n        padding: theme.spacing(1, 1, 1, 0),\r\n        // vertical padding + font size from searchIcon\r\n        paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n        transition: theme.transitions.create('width'),\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: '12ch',\r\n            '&:focus': {\r\n                width: '20ch',\r\n            },\r\n        },\r\n    },\r\n    input: {\r\n        display: 'none',\r\n    },\r\n    dropdown: {\r\n        position: 'fixed',\r\n        width: 200,\r\n        top: '50%',\r\n        left: '50%',\r\n        transform: 'translate(-50%, -50%)',\r\n        border: '1px solid',\r\n        padding: theme.spacing(1),\r\n        backgroundColor: theme.palette.background.paper,\r\n    }\r\n}));\r\n\r\nconst Group = (props) => {\r\n    const messageRef = useRef();\r\n    const classes = useStyles();\r\n    const [openemoji, setOpenEmoji] = React.useState(false);\r\n\r\n    const handleClickEmoji = () => {\r\n        setOpenEmoji((prev) => !prev);\r\n    };\r\n\r\n    const handleClickAwayEmoji = () => {\r\n        setOpenEmoji(false);\r\n    };\r\n\r\n    const [open, setOpen] = React.useState(false);\r\n    const [openSearchDialog, setopenSearchDialog] = React.useState(false)\r\n    const dispatch = useDispatch();\r\n    const [state, setState] = useState({\r\n        groupName: null,\r\n        isSubmitting: null,\r\n        photoURL: null,\r\n        searchQuery: null,\r\n        searchQueryResult: null,\r\n        selectedGroup: null,\r\n        snackbarOpen: false,\r\n        snackbarMessage: \"\",\r\n        snackbarSeverity: \"success\",\r\n        user: props.userState.user,\r\n        message: \"\"\r\n    });\r\n\r\n    //const [chosenEmoji, setChosenEmoji] = useState(null);\r\n    const onEmojiClick = async (event, emojiObject) => {\r\n        // setChosenEmoji(emojiObject);\r\n        //console.log(emojiObject)\r\n        await setState({\r\n            ...state, message: state.message + emojiObject.emoji\r\n        })\r\n    };\r\n\r\n    const [loading, setLoading] = useState(false)\r\n    const [messages, setMessages] = useState([]);\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n    const socket = io(\"/\");\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n    const handleClickOpenSearch = () => {\r\n        setopenSearchDialog(true);\r\n    };\r\n    const handleCloseSearch = () => {\r\n        setopenSearchDialog(false);\r\n    };\r\n\r\n    const handleChange = (key, value) => {\r\n        setState({\r\n            ...state,\r\n            [key]: value\r\n        });\r\n    }\r\n    const handleSubmit = async (e) => {\r\n        // e.preventDefault();\r\n        setState({ ...state, isSubmitting: true });\r\n        await dispatch(createGroup(state));\r\n        setState({ ...state, isSubmitting: false });\r\n        props.findGroups();\r\n        setOpen(false);\r\n    }\r\n    const handleChangeSearch = (key, value) => {\r\n        setState({\r\n            ...state,\r\n            [key]: value\r\n        });\r\n    }\r\n    const handleSubmitSearch = async (e) => {\r\n        await props.searchUser({\r\n            searchQuery: state.searchQuery\r\n        });\r\n        //console.log(\"props\", props.group.searchQuery);\r\n        setState({ ...state, searchQueryResult: props.group.searchQuery });\r\n    };\r\n    const sendGroupRequest = async (receiver) => {\r\n        await props.sendRequest({\r\n            receiver: receiver,\r\n            groupId: state.selectedGroup._id\r\n        });\r\n        if (props.request.error) {\r\n            setState({\r\n                ...state,\r\n                snackbarOpen: true,\r\n                snackbarMessage: props.request.error,\r\n                snackbarSeverity: 'error'\r\n            })\r\n        } else {\r\n            setState({\r\n                ...state,\r\n                snackbarOpen: true,\r\n                snackbarMessage: props.request.request.message\r\n            })\r\n\r\n        }\r\n        setopenSearchDialog(false);\r\n        setTimeout(() => {\r\n            setState({\r\n                ...state,\r\n                selectedGroup: state.selectedGroup\r\n            })\r\n        }, 2000)\r\n    }\r\n\r\n    useEffect(() => {\r\n        dispatch(findGroups());\r\n        //console.log(props)\r\n    }, [dispatch]);\r\n\r\n    socket.on('message', (data) => {\r\n        setMessages(messages => messages.concat(data));\r\n        scrollToBottom();\r\n\r\n    })\r\n\r\n    const openChatting = async (item) => {\r\n        //console.log(item)\r\n        setState({\r\n            ...state, selectedGroup: item,\r\n        });\r\n        setLoading(true)\r\n        await props.allMessage(item._id);\r\n        setMessages(props.chat.messages)\r\n        setLoading(false);\r\n        socket.emit('join', item._id);\r\n        scrollToBottom();\r\n    }\r\n\r\n\r\n\r\n    const sendMessage = async (e) => {\r\n        e.preventDefault();\r\n        const message = {\r\n            name: state.user.firstName + \" \" + state.user.lastName,\r\n            photoURL: state.user.photoURL || null,\r\n            sender: state.user.id,\r\n            message: state.message,\r\n            groupId: state.selectedGroup._id,\r\n        }\r\n        if (state.message) {\r\n            socket.emit('message', message);\r\n            setState({\r\n                ...state,\r\n                message: \"\"\r\n            })\r\n        }\r\n\r\n    }\r\n    const onChangeHandler = (event) => {\r\n        console.log(event.target.files[0]);\r\n        const message = {\r\n            name: state.user.firstName + \" \" + state.user.lastName,\r\n            photoURL: state.user.photoURL || null,\r\n            sender: state.user.id,\r\n            file: event.target.files[0],\r\n            type: event.target.files[0].type,\r\n            fileName: event.target.files[0].name,\r\n            groupId: state.selectedGroup._id,\r\n        }\r\n        console.log(state)\r\n        socket.emit('fileupload', message);\r\n    }\r\n\r\n    const showSnackbar = () => {\r\n        return <Snackbar\r\n            anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n            open={state.snackbarOpen}\r\n            onClose={() => { setState({ snackbarOpen: false }) }}\r\n            autoHideDuration={3000}\r\n        >\r\n            <MuiAlert severity={state.snackbarSeverity} variant=\"filled\">\r\n                {state.snackbarMessage}\r\n            </MuiAlert>\r\n        </Snackbar>\r\n    }\r\n\r\n    const scrollToBottom = () => {\r\n        if (messageRef.current) {\r\n            messageRef.current.scrollIntoView();\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"backgrnd\" style={{ marginLeft: \"100px\" }} >\r\n            <Header />\r\n            {props.group.groups ?\r\n                <Grid container>\r\n                    <Grid item sm={3} style={{ marginTop: \"25px\" }}>\r\n                        <Button variant=\"outlined\" color=\"primary\" onClick={handleClickOpen}>\r\n                            Create a New Group\r\n      </Button>\r\n                        <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n                            <DialogTitle id=\"form-dialog-title\">New Group</DialogTitle>\r\n                            <DialogContent>\r\n                                <DialogContentText>\r\n                                    To create a new group\r\n          </DialogContentText>\r\n                                <TextField\r\n                                    autoFocus\r\n                                    margin=\"dense\"\r\n                                    id=\"Group name\"\r\n                                    label=\" Group name\"\r\n                                    type=\"text\"\r\n                                    fullWidth\r\n                                    required\r\n                                    onChange={(e) => handleChange(\"groupName\", e.target.value)}\r\n                                />\r\n                                <TextField\r\n                                    margin=\"dense\"\r\n                                    id=\"group logo\"\r\n                                    label=\" Group logo\"\r\n                                    type=\"text\"\r\n                                    fullWidth\r\n                                    required\r\n                                    onChange={(e) => handleChange(\"photoURL\", e.target.value)}\r\n                                />\r\n                            </DialogContent>\r\n                            <DialogActions>\r\n                                <Button onClick={handleClose} color=\"primary\">\r\n                                    Cancel\r\n          </Button>\r\n                                <Button onClick={handleSubmit} disabled={state.isSubmitting || !(state.photoURL && state.groupName)} color=\"primary\">\r\n                                    Done\r\n          </Button>\r\n                            </DialogActions>\r\n                        </Dialog>\r\n                        <div className=\"group-list\">\r\n                            <Grid container direction=\"column\" alignItems=\"flex-start\">\r\n                                {props.group.groups && props.group.groups.map((item) => (\r\n                                    <Grid item key={item._id} style={{ margin: '10px 0' }}>\r\n                                        <Card onClick={() => openChatting(item)} style={state.selectedGroup && state.selectedGroup._id === item._id ? { backgroundColor: '#ccc' } : { cursor: 'pointer' }}>\r\n                                            <CardHeader\r\n                                                avatar={\r\n                                                    <Avatar alt=\"user\" src={item.photoURL || userimage} />\r\n                                                }\r\n                                                title={item.groupName}\r\n                                                subheader={\r\n                                                    <div>\r\n                                                        Created Date:{new Date(item.createdAt).toLocaleDateString()}\r\n                                                    </div>\r\n                                                }\r\n                                            />\r\n                                        </Card>\r\n\r\n                                    </Grid>\r\n                                ))}\r\n                            </Grid>\r\n                        </div>\r\n                    </Grid>\r\n\r\n                    <Grid item sm={9} >\r\n                        {!state.selectedGroup ?\r\n                            <div>\r\n                                {props.group.groups.length === 0 ?\r\n                                    <h1>you don't have any group.</h1>\r\n                                    :\r\n                                    <h1>\r\n                                        Click on any group for chatting.\r\n                            </h1>\r\n                                }\r\n                            </div>\r\n                            :\r\n                            <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                                <AppBar position=\"relative\" style={{ background: \"#37474f\" }}>\r\n                                    <Toolbar>\r\n                                        <Typography className={classes.title} variant=\"h6\" noWrap>\r\n                                            <CardHeader\r\n                                                avatar={\r\n                                                    <Avatar alt=\"user\" src={state.selectedGroup.photoURL || userimage} />\r\n                                                }\r\n                                                title={state.selectedGroup.groupName}\r\n                                            />\r\n\r\n                                        </Typography>\r\n                                        <div style={{ marginRight: \"10px\", color: \"lightblue\" }}>\r\n                                            {state.selectedGroup.member.length} Participants\r\n                                        </div>\r\n                                        <div >\r\n                                            <Tooltip title=\"Share documents\" aria-label=\"add\">\r\n                                                <Fab size=\"small\" style={{ marginRight: \"8px\" }}>\r\n                                                    <input accept=\"image/*,video/*,application/pdf\" className={classes.input} id=\"icon-button-file\" type=\"file\" onChange={onChangeHandler} />\r\n                                                    <label htmlFor=\"icon-button-file\" >\r\n                                                        <IconButton type=\"file\" aria-label=\"upload picture\" component=\"span\">\r\n                                                            <AttachmentIcon />\r\n                                                        </IconButton>\r\n                                                    </label>\r\n                                                </Fab>\r\n                                            </Tooltip>\r\n                                            {state.user.id === state.selectedGroup.owner &&\r\n                                                <Tooltip title=\"Add member\" aria-label=\"add\">\r\n                                                    <Fab size=\"small\" onClick={handleClickOpenSearch}>\r\n                                                        <PersonAddIcon />\r\n                                                    </Fab>\r\n                                                </Tooltip>\r\n                                            }\r\n                                            <Dialog open={openSearchDialog} onClose={handleCloseSearch} aria-labelledby=\"form-dialog-title\">\r\n                                                <DialogTitle id=\"form-dialog-title\">Search User</DialogTitle>\r\n                                                <DialogContent>\r\n                                                    <TextField\r\n                                                        autoFocus\r\n                                                        margin=\"dense\"\r\n                                                        id=\"search\"\r\n                                                        label=\"Search\"\r\n                                                        type=\"text\"\r\n                                                        fullWidth\r\n                                                        onChange={(e) => handleChangeSearch(\"searchQuery\", e.target.value)}\r\n                                                    />\r\n                                                </DialogContent>\r\n                                                <DialogActions>\r\n                                                    <Grid style={{ margin: '10px 0' }} container direction=\"column\">\r\n                                                        {state.searchQueryResult && state.searchQueryResult.map((item) => (\r\n                                                            <Grid item key={item._id}>\r\n                                                                <Tooltip title=\"click for send request\" aria-label=\"add\" style={{ cursor: 'pointer' }}>\r\n                                                                    <Card onClick={() => sendGroupRequest(item._id)}>\r\n                                                                        <CardHeader\r\n                                                                            avatar={\r\n                                                                                <Avatar alt=\"user\" src={item.photoURL || userimage} />\r\n                                                                            }\r\n                                                                            title={item.firstName + \" \" + item.lastName}\r\n                                                                        />\r\n                                                                    </Card>\r\n                                                                </Tooltip>\r\n                                                            </Grid>\r\n                                                        ))}\r\n                                                    </Grid>\r\n\r\n                                                </DialogActions>\r\n                                                <DialogActions>\r\n                                                    <Button onClick={handleCloseSearch} color=\"primary\">\r\n                                                        Cancel\r\n                                            </Button>\r\n                                                    <Button onClick={handleSubmitSearch} color=\"primary\">\r\n                                                        Search\r\n                                            </Button>\r\n                                                </DialogActions>\r\n                                            </Dialog>\r\n                                        </div>\r\n                                    </Toolbar>\r\n                                </AppBar>\r\n                                <div className=\"chat-box\">\r\n                                    <Grid className=\"messages\">\r\n                                        {loading && <div className={classes.root1}><CircularProgress /></div>}\r\n                                        {messages && messages.map(item => (\r\n                                            <Grid item xs={12} key={item._id} style={{ padding: '8px' }} ref={messageRef}>\r\n                                                <div className=\"message\">\r\n                                                    <Avatar className=\"message-photo\" src={item.phtoURL || userimage} alt=\"message\" />\r\n                                                    <div className=\"message-name\">{item.name}</div>\r\n                                                </div>\r\n                                                {item.file ?\r\n                                                    <>\r\n                                                        {item?.type.indexOf('video') !== -1 ?\r\n                                                            <video width=\"320\" height=\"240\" controls autoPlay>\r\n                                                                <source src={`/uploads/${item.file}`} type={item.typetype} />\r\n                                                            </video>\r\n                                                            :\r\n                                                            item?.type.indexOf('image') !== -1 ?\r\n                                                                <img className=\"message-file\" src={`/uploads/${item.file}`} alt={item.file} />\r\n                                                                : <div className=\"message-content\">\r\n                                                                    <a className=\"send-link\" target=\"_blank\" rel=\"noopener noreferrer\" href={\"/uploads/\" + item.file}>{item.fileName || 'open pdf'}</a>\r\n                                                                </div>\r\n                                                        }\r\n                                                    </>\r\n                                                    :\r\n                                                    <div className=\"message-content\">{item.message}</div>\r\n                                                }\r\n                                            </Grid>\r\n                                        ))}\r\n                                    </Grid>\r\n                                    <form className=\"message-form\" onSubmit={sendMessage}>\r\n                                        <Grid container>\r\n                                            <Grid item xs={1} sm={1}>\r\n                                                <div>\r\n                                                    <ClickAwayListener onClickAway={handleClickAwayEmoji}>\r\n                                                        <div>\r\n                                                            <InsertEmoticonIcon onClick={handleClickEmoji} style={{ cursor: \"pointer\" }} />\r\n                                                            {openemoji ? (\r\n                                                                <Portal>\r\n                                                                    <div className={classes.dropdown}>\r\n                                                                        <Picker onEmojiClick={onEmojiClick} />\r\n                                                                    </div>\r\n                                                                </Portal>\r\n                                                            ) : null}\r\n                                                        </div>\r\n                                                    </ClickAwayListener>\r\n                                                </div>\r\n                                            </Grid>\r\n                                            <Grid item xs={9} sm={10}>\r\n                                                <TextField\r\n                                                    fullWidth\r\n                                                    placeholder=\"type a message \"\r\n                                                    name=\"message\"\r\n                                                    variant=\"outlined\"\r\n                                                    autoComplete=\"off\"\r\n                                                    size=\"small\"\r\n                                                    value={state.message}\r\n                                                    onChange={(e) => setState({ ...state, message: e.target.value })}\r\n                                                />\r\n                                            </Grid>\r\n                                            <Grid item xs={2} sm={1}>\r\n                                                <Fab style={{\r\n                                                    width: \"40px\",\r\n                                                    height: \"40px\"\r\n                                                }} type=\"submit\"><SendIcon /></Fab>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </form>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </Grid>\r\n\r\n                </Grid>\r\n                : <div className={classes.root1}>\r\n                    <CircularProgress />\r\n                </div>\r\n            }\r\n            {showSnackbar()}\r\n        </div >\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    //console.log(state.groupReducer.message)\r\n    return {\r\n        userState: state.userState,\r\n        group: state.groupReducer,\r\n        request: state.requestReducer,\r\n        chat: state.chatReducer\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { createGroup, findGroups, searchUser, sendRequest, allMessage })(Group);\r\n","import React, { Component } from 'react';\r\nimport Header from '../components/header';\r\nimport { allUser, singleUser } from '../redux/action/user';\r\nimport { sendRequest } from '../redux/action/request';\r\nimport { connect } from 'react-redux';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport userimage from '../assets/images/user.jpg';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nclass Details extends Component {\r\n    state = {\r\n        user: null,\r\n        snackbarOpen: false,\r\n        snackbarMessage: \"\",\r\n        snackbarSeverity: \"success\"\r\n    }\r\n\r\n    connect = async (receiver) => {\r\n        await this.props.sendRequest({\r\n            receiver: receiver,\r\n            sender: this.props.userState.user.id\r\n        });\r\n        if (this.props.request.error) {\r\n            this.setState({\r\n                snackbarOpen: true,\r\n                snackbarMessage: this.props.request.error,\r\n                snackbarSeverity: 'error'\r\n            })\r\n        } else {\r\n            this.setState({\r\n                snackbarOpen: true,\r\n                snackbarMessage: this.props.request.request.message\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n    showSnackbar = () => {\r\n        return <Snackbar\r\n            anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n            open={this.state.snackbarOpen}\r\n            onClose={() => { this.setState({ snackbarOpen: false }) }}\r\n            autoHideDuration={3000}\r\n        >\r\n            <MuiAlert severity={this.state.snackbarSeverity} variant=\"filled\">\r\n                {this.state.snackbarMessage}\r\n            </MuiAlert>\r\n        </Snackbar>\r\n    }\r\n    async componentDidMount() {\r\n        //await this.props.allUser();\r\n        await this.props.singleUser(this.props.match.params.id);\r\n        //console.log(this.props.userState.oneuser)\r\n        await this.setState({ user: this.props.userState.oneuser });\r\n        // if (this.props.userState.oneuser.group && this.props.userState.oneuser.group.length > 0){\r\n        //     const groups=[];\r\n        //     this.props.userState.oneuser.group.forEach((groupId)=>{\r\n        //       const groupData = this.props.userState.users.\r\n        //     })\r\n        // }\r\n    }\r\n    render() {\r\n        return (\r\n            <div style={{ marginLeft: \"100px\" }}>\r\n                <Header />\r\n                {this.state.user ?\r\n                    <Grid container>\r\n                        <Grid item xs={12} sm={12} md={4}>\r\n                            <img height=\"300px\" width=\"300px\" alt=\"user\" src={this.state.user.photoURL || userimage} />\r\n                            <h1>Name: {this.state.user.firstName + \" \" + this.state.user.lastName}</h1>\r\n                            <h2>Email: {this.state.user.email}</h2>\r\n                            <h3>Join date : {new Date(this.state.user.createdAt).toLocaleDateString()}</h3>\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={12} md={4}>\r\n                            <Tooltip title=\"send Request\" aria-label=\"add\">\r\n                                <Button variant=\"contained\" color=\"primary\" size=\"large\" style={{ marginLeft: \"60px\" }} onClick={() => this.connect(this.state.user._id)}>connect</Button>\r\n                            </Tooltip>\r\n                            <h1>Friends</h1>\r\n                            {this.state.user?.friends.map((fr) => (\r\n                                <div key={fr._id}>\r\n                                    {/* <h3>{fr.firstName} {fr.lastName}</h3> */}\r\n                                    <Card className=\"friend\">\r\n                                        <CardHeader\r\n                                            avatar={\r\n                                                <Avatar alt=\"user\" src={fr.photoURL || userimage} />\r\n                                            }\r\n                                            title={fr.firstName + \" \" + fr.lastName}\r\n                                        />\r\n                                    </Card>\r\n                                </div>\r\n                            ))}\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={12} md={4}>\r\n                            <div >\r\n                                <h3>last login date: {new Date(this.state.user.updatedAt).toLocaleDateString()}</h3>\r\n                            </div>\r\n                            <h1>Groups</h1>\r\n                            {this.state.user?.group.map((fr) => (\r\n                                <div key={fr._id}>\r\n                                    {/* <h3>{fr.firstName} {fr.lastName}</h3> */}\r\n                                    <Card className=\"friend\">\r\n                                        <CardHeader\r\n                                            avatar={\r\n                                                <Avatar alt=\"user\" src={fr.photoURL || userimage} />\r\n                                            }\r\n                                            title={fr.groupName}\r\n                                        />\r\n                                    </Card>\r\n                                </div>\r\n                            ))}\r\n                        </Grid>\r\n                    </Grid>\r\n                    : <div className=\"loader\">\r\n                        <CircularProgress />\r\n                    </div>\r\n                }\r\n                {this.showSnackbar()}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        userState: state.userState,\r\n        request: state.requestReducer\r\n    }\r\n}\r\nexport default connect(mapStateToProps, { allUser, sendRequest, singleUser })(Details);","import React, { Component } from \"react\";\r\nimport Login from './components/login';\r\nimport Register from './components/register';\r\nimport forgotPassword from './components/forgotPassword';\r\nimport Home from './page/home';\r\n//import Header from './components/header';\r\nimport Profile from './page/profile';\r\nimport { HashRouter, Route } from 'react-router-dom';\r\nimport resetPassword from './components/resetpassword';\r\nimport Friends from './page/friend';\r\nimport Groups from './page/group';\r\nimport Details from './page/userdetail';\r\nclass App extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <HashRouter>\r\n                    <Route path=\"/\" component={Home} exact />\r\n                    <Route path=\"/login\" component={Login} exact />\r\n                    <Route path=\"/register\" component={Register} exact />\r\n                    <Route path=\"/forgotPassword\" component={forgotPassword} exact />\r\n                    <Route path=\"/Profile\" component={Profile} exact />\r\n                    <Route path=\"/resetPassword/:email\" component={resetPassword} exact />\r\n                    <Route path=\"/friend\" component={Friends} exact />\r\n                    <Route path=\"/group\" component={Groups} exact />\r\n                    <Route path=\"/user/:id\" component={Details} />\r\n                </HashRouter>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default App;","import { REGISTER, LOGOUT, LOGIN, UPDATEUSER, ALLUSER, FORGOTPASSWORD, CHANGEPASSWORD, SINGLEUSER } from '../type';\r\n\r\nconst initalstate = {\r\n    user: localStorage.getItem('user') ? JSON.parse(localStorage.getItem('user')) : null,\r\n    isAuthenticated: localStorage.getItem(\"isAuth\") || false,\r\n    info: null,\r\n    error: null,\r\n    users: null,\r\n    useremail: null,\r\n    oneuser: null,\r\n    search: null\r\n}\r\n\r\nconst userReducer = (state = initalstate, action) => {\r\n    const { type, payload } = action;\r\n    //console.log(type,payload)\r\n    switch (type) {\r\n        case REGISTER:\r\n            const newState = Object.assign(state, payload);\r\n            return newState;\r\n        // return {\r\n        //     ...state, info: payload.info, error: payload.error\r\n        // }\r\n        case LOGIN:\r\n            if (payload.user) {\r\n                localStorage.setItem('user', JSON.stringify(payload.user));\r\n                localStorage.setItem('isAuth', true);\r\n            }\r\n            return Object.assign(state, payload);\r\n        case LOGOUT:\r\n            localStorage.removeItem(\"user\")\r\n            localStorage.removeItem(\"isAuth\")\r\n            return { ...state, user: null, isAuthenticated: false }\r\n        case ALLUSER:\r\n            return Object.assign(state, payload);\r\n        case FORGOTPASSWORD:\r\n            const newState1 = Object.assign(state, payload)\r\n            // console.log(newState1)\r\n            return newState1\r\n        case UPDATEUSER:\r\n            const user = { ...state.user, photoURL: payload.photoURL, firstName: payload.firstName, lastName: payload.lastName }\r\n            //console.log(payload)\r\n            //console.log(user)\r\n            localStorage.setItem('user', JSON.stringify(user));\r\n            return { ...state, user };\r\n        case CHANGEPASSWORD:\r\n            if (payload.user) {\r\n                localStorage.setItem('user', JSON.stringify(payload.user));\r\n            }\r\n            return Object.assign(state, payload);\r\n        case SINGLEUSER:\r\n            return Object.assign(state, payload);\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default userReducer;","import { REQUEST, ALLREQUEST, UPDATEREQUEST, FRIENDS } from '../type';\r\n\r\nconst initalstate = {\r\n    request: null,\r\n    error: null,\r\n    requests: null,\r\n    update: null,\r\n    friends: null\r\n}\r\n\r\nconst requestReducer = (state = initalstate, action) => {\r\n    const { type, payload } = action;\r\n    //console.log(payload)\r\n    switch (type) {\r\n        case REQUEST:\r\n            const newState = Object.assign(state, payload);\r\n            //console.log(newState)\r\n            return newState;\r\n        case ALLREQUEST:\r\n            return Object.assign(state, payload);\r\n        case UPDATEREQUEST:\r\n            return Object.assign(state, payload);\r\n        case FRIENDS:\r\n            return Object.assign(state, payload)\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default requestReducer;","import { CREATEGROUP, FINDGROUP, SEARCHUSER, ALLMESSAGE } from '../type';\r\n\r\nconst initalstate = {\r\n    group: null,\r\n    error: null,\r\n    info: null,\r\n    groups: null,\r\n    searchQuery: null,\r\n    message: null\r\n}\r\n\r\nconst groupReducer = (state = initalstate, action) => {\r\n    const { type, payload } = action;\r\n    switch (type) {\r\n        case CREATEGROUP:\r\n            return { ...state, group: payload.group, error: payload.error };\r\n        case FINDGROUP:\r\n            return { ...state, groups: payload };\r\n        case SEARCHUSER:\r\n            return Object.assign(state, payload);\r\n        case ALLMESSAGE:\r\n            //console.log('payy', payload)\r\n            return { ...state, message: payload }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default groupReducer;","import { ALLMESSAGE, SINGLECHAT } from '../type';\r\n\r\nconst initialState = {\r\n    messages: [],\r\n    singleMessages: []\r\n};\r\n\r\nconst ChatReducer = (state = initialState, action) => {\r\n    const { type, payload } = action;\r\n\r\n    switch (type) {\r\n        case ALLMESSAGE:\r\n            return Object.assign(state, payload);\r\n        case SINGLECHAT:\r\n            return Object.assign(state, payload);\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default ChatReducer;","import { createStore, combineReducers, applyMiddleware } from \"redux\";\r\nimport userReducer from \"./reducer/user\";\r\nimport requestReducer from './reducer/request';\r\nimport thunk from 'redux-thunk';\r\nimport groupReducer from './reducer/group';\r\nimport chatReducer from './reducer/chat';\r\nconst rootReducer = combineReducers({ userState: userReducer, requestReducer, groupReducer, chatReducer })\r\nconst store = createStore(rootReducer, applyMiddleware(thunk));\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDom from 'react-dom';\r\nimport App from './app';\r\nimport store from './redux/store';\r\nimport { Provider } from 'react-redux';\r\nimport './style/style.css';\r\nReactDom.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById(\"root\")\r\n);","module.exports = __webpack_public_path__ + \"static/media/ouricon.c1f7ad7e.jpg\";"],"sourceRoot":""}